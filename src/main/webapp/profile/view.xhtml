<ui:composition template="/template/default/template.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="title">#{profileViewBean.socialProfile.name}</ui:define>
    <!-- BEGIN PAGE STYLES -->
    <ui:define name="styles">
        <link type="text/css" rel="StyleSheet" media="all" href="../resources/lib/jcrop-0.9.12/css/jquery.Jcrop.min.css"></link>
        <link type="text/css" rel="StyleSheet" media="all" href="../resources/common/css/profile-view.css"></link>
    </ui:define>
    <!-- END PAGE STYLES -->
    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView" listener="#{templateBean.init()}"/>
            <f:viewParam name="id" value="#{profileViewBean.socialProfileId}"/>
            <f:event type="preRenderView" listener="#{profileViewBean.init()}"/>
        </f:metadata>
    </ui:define>
    <ui:define name="content">
        <section id="content">
            <h:form prependId="false" enctype="multipart/form-data" acceptcharset="UTF-8">
                <h:inputHidden id="social-profile-id" value="#{profileViewBean.socialProfile.socialProfileId}"/>
                <h:inputHidden id="social-profile-name" value="#{profileViewBean.socialProfile.name}"/>
                <div class="profile-cover-image">
                    <img src="#{profileViewBean.socialProfile.coverPhoto}"/>
                    <h:panelGroup rendered="#{profileViewBean.himself}" class="edit-photo cover-photo fa fa-pencil"/>
                </div>
                <div class="profile-resume">
                    <div class="profile-image">
                        <img src="#{profileViewBean.socialProfile.photo}"/>
                        <h:panelGroup rendered="#{profileViewBean.himself}" class="edit-photo photo fa fa-pencil"/>
                    </div>
                    <p class="image-error"></p>
                    <div class="profile-name">
                        <h1>
                            #{profileViewBean.socialProfile.name}
                            <ui:fragment rendered="#{profileViewBean.socialProfile.users.userAuthorization.status == 'IC'}">
                                <img title="#{localeBean.getString('Desativado')}" class="blocked" src="../resources/common/images/blocked.png"/>
                            </ui:fragment>
                        </h1>
                        <h:panelGroup layout="block" id="editable-profile-occupation" class="editable-container">
                            <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('occupation')}">
                                <ui:fragment rendered="#{profileViewBean.socialProfile.occupationsId.name != null}">
                                    <p>#{profileViewBean.socialProfile.occupationsId.name}</p>
                                    <ui:fragment rendered="#{profileViewBean.himself}">
                                        <i class="edit-pencil fa fa-pencil"></i>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.socialProfile.occupationsId.name == null and profileViewBean.himself}">
                                    <a class="add-new">
                                        <i class="fa fa-plus-square"></i> 
                                        <span>#{localeBean.getString('Adicionar ocupação')}</span>
                                    </a>
                                </ui:fragment>
                            </ui:fragment>
                            <ui:fragment rendered="#{profileViewBean.editFieldList.contains('occupation')}">
                                <h:inputText pt:placeholder="#{localeBean.getString('Qual a sua ocupação?')}" id="occupation-input" styleClass="editable-field pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                <h:commandLink styleClass="edit-button pull-left">
                                    <i class="fa fa-chevron-circle-right"></i>
                                    <f:ajax listener="#{profileViewBean.editField('occupation')}" execute="occupation-input" render="editable-profile-occupation editable-profile-occupation-2"></f:ajax>
                                </h:commandLink>
                            </ui:fragment>
                            <h:commandLink styleClass="add-new-action occupation">
                                <f:ajax listener="#{profileViewBean.showEditField('occupation')}" render="editable-profile-occupation"></f:ajax>
                            </h:commandLink>
                        </h:panelGroup>
                    </div>
                    <div class="profile-status">
                        <h:panelGroup layout="block" id="editable-profile-status" class="editable-container">
                            <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('description')}">
                                <ui:fragment rendered="#{profileViewBean.socialProfile.description != null}">
                                    <p class="inline">#{profileViewBean.socialProfile.description}</p>
                                    <ui:fragment rendered="#{profileViewBean.himself}">
                                        <i class="edit-pencil fa fa-pencil"></i>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.socialProfile.description == null and profileViewBean.himself}">
                                    <a class="add-new">
                                        <i class="fa fa-plus-square"></i> 
                                        <span>#{localeBean.getString('Adicionar uma descrição')}</span>
                                    </a>
                                </ui:fragment>
                            </ui:fragment>
                            <ui:fragment rendered="#{profileViewBean.editFieldList.contains('description')}">
                                <h:inputTextarea pt:placeholder="#{localeBean.getString('Quem é você?')}" id="description-input" styleClass="editable-field editable-textarea " value="#{profileViewBean.editableFieldValue}"/>
                                <h:commandLink styleClass="edit-button pull-right">
                                    <i class="fa fa-chevron-circle-right"></i>
                                    <f:ajax listener="#{profileViewBean.editField('description')}" execute="description-input" render="editable-profile-status"></f:ajax>
                                </h:commandLink>
                            </ui:fragment>
                            <h:commandLink styleClass="add-new-action description">
                                <f:ajax listener="#{profileViewBean.showEditField('description')}" render="editable-profile-status"></f:ajax>
                            </h:commandLink>
                        </h:panelGroup>
                    </div>
                    <div class="clear"/>
                </div>
                <ui:fragment rendered="#{!profileViewBean.himself}">
                    <h:panelGroup layout="block" id="profile-options" class="profile-options #{profileViewBean.mySocialProfile.users.userAuthorization.roles == 'AD' 
                                                                                               and profileViewBean.socialProfile.users.userAuthorization.status != 'IC'
                                                                                               and profileViewBean.socialProfile.users.userAuthorization.roles != 'AD' ? 'admin': ''}">
                        <ui:fragment rendered="#{profileViewBean.socialProfile.roleId.name != 'Visitante'}">
                            <ui:fragment rendered="#{profileViewBean.isFriend().status eq 'AC'}">
                                <h:commandLink class="friend-situation" disabled="#{profileViewBean.mySocialProfile.roleId.name == 'Visitante'}">
                                    <img class="friend-status" src="../resources/common/images/remove-friend-gray.png"/>
                                    <f:ajax listener="#{profileViewBean.removeFriend}" render="profile-options"/>
                                </h:commandLink>
                            </ui:fragment>
                            <ui:fragment rendered="#{profileViewBean.isFriend().status eq 'PE'}">
                                <h:commandLink class="friend-situation" disabled="#{profileViewBean.mySocialProfile.roleId.name == 'Visitante'}">
                                    <img class="friend-status" src="../resources/common/images/pending-friend-gray.png"/>
                                    <f:ajax listener="#{profileViewBean.removeFriend}" render="profile-options"/>
                                </h:commandLink>
                            </ui:fragment>
                            <ui:fragment rendered="#{profileViewBean.isFriend().status eq null}">
                                <h:commandLink class="friend-situation" disabled="#{profileViewBean.mySocialProfile.roleId.name == 'Visitante'}">
                                    <img class="friend-status" src="../resources/common/images/add-friend-gray.png"/>
                                    <f:ajax listener="#{profileViewBean.addFriend}" render="profile-options"/>
                                </h:commandLink>
                            </ui:fragment>
                            <img class="open-chat #{profileViewBean.mySocialProfile.roleId.name == 'Visitante' ? 'disabled' : ''}" src="../resources/common/images/chat.png"/>
                        </ui:fragment>
                        <ui:fragment rendered="#{profileViewBean.mySocialProfile.users.userAuthorization.roles == 'AD' 
                                                 and profileViewBean.socialProfile.users.userAuthorization.status != 'IC'
                                                 and profileViewBean.socialProfile.users.userAuthorization.roles != 'AD'}">
                            <h:commandLink class="block">
                                <f:ajax listener="#{profileViewBean.deactivateUser()}"/>
                                <img src="../resources/common/images/blocked.png" title="#{localeBean.getString('Bloquear usuário')}"/>
                            </h:commandLink>
                        </ui:fragment>
                    </h:panelGroup>
                </ui:fragment>
                <div class="profile-tabs">
                    <ul>
                        <li id="profile-tab-about" class="active"><span class="tab tab-about">#{localeBean.getString('Sobre')}</span></li>
                        <li id="profile-tab-objects"><span class="tab tab-objects">#{localeBean.getString('Objetos Educacionais')}</span></li>
                        <li id="profile-tab-docs"><span class="tab tab-docs">#{localeBean.getString('Documentos')}</span></li>
                        <li id="profile-tab-resume"><span class="tab tab-resume">#{localeBean.getString('Currículo')}</span></li>
                    </ul>
                </div>
                <div class="clear"></div>
                <div id="profile-container-about" class="profile-container">
                    <div class="profile-column-left">
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-heart" src="../resources/common/images/heart.png"/>
                                    #{localeBean.getString('Matérias')}<br/> #{localeBean.getString('de Interesse')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-matters" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('mattersOfInterest')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.mattersOfInterest != null}">
                                            <p>#{profileViewBean.socialProfile.mattersOfInterest}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.mattersOfInterest == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('mattersOfInterest')}">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Quais assuntos lhe interessa?')}" id="matters-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('mattersOfInterest')}" execute="matters-input" render="editable-profile-matters"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action matters">
                                        <f:ajax listener="#{profileViewBean.showEditField('mattersOfInterest')}" render="editable-profile-matters"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <hr />
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-music" src="../resources/common/images/music.png"/>
                                    #{localeBean.getString('Músicas')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-musics" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('musics')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.musics != null}">
                                            <p>#{profileViewBean.socialProfile.musics}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.musics == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('musics')}">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Quais músicas você gosta de ouvir?')}" id="musics-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('musics')}" execute="musics-input" render="editable-profile-musics"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action musics">
                                        <f:ajax listener="#{profileViewBean.showEditField('musics')}" render="editable-profile-musics"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <hr />
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-book" src="../resources/common/images/book.png"/>
                                    #{localeBean.getString('Livros')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-books" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('books')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.books != null}">
                                            <p>#{profileViewBean.socialProfile.books}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.books == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('books')}">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Quais livros você gostou de ler?')}" id="books-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('books')}" execute="books-input" render="editable-profile-books"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action books">
                                        <f:ajax listener="#{profileViewBean.showEditField('books')}" render="editable-profile-books"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <hr />
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-movie" src="../resources/common/images/movie.png"/>
                                    #{localeBean.getString('Filmes')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-movies" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('movies')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.movies != null}">
                                            <p>#{profileViewBean.socialProfile.movies}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.movies == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('movies')}">
                                        <h:inputText pt:placeholder="Quais filmes você assistiu e adorou?" id="movies-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('movies')}" execute="movies-input" render="editable-profile-movies"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action movies">
                                        <f:ajax listener="#{profileViewBean.showEditField('movies')}" render="editable-profile-movies"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <hr />
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-sport" src="../resources/common/images/sport.png"/>
                                    #{localeBean.getString('Esportes')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-sports" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('sports')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.sports != null}">
                                            <p>#{profileViewBean.socialProfile.sports}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.sports == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('sports')}">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Quais esportes você gosta de praticar?')}" id="sports-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('sports')}" execute="sports-input" render="editable-profile-sports"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action sports">
                                        <f:ajax listener="#{profileViewBean.showEditField('sports')}" render="editable-profile-sports"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <hr />
                        <div class="profile-about-list">
                            <div class="profile-about-title">
                                <h3>
                                    <img id="profile-icon-hobbie" src="../resources/common/images/hobbie.png"/>
                                    #{localeBean.getString('Hobbies')}
                                </h3>
                            </div>
                            <div class="profile-about-description">
                                <h:panelGroup layout="block" id="editable-profile-hobbies" class="editable-container">
                                    <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('hobbies')}">
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.hobbies != null}">
                                            <p>#{profileViewBean.socialProfile.hobbies}</p>
                                            <ui:fragment rendered="#{profileViewBean.himself}">
                                                <i class="edit-pencil fa fa-pencil"></i>
                                            </ui:fragment>
                                        </ui:fragment>
                                        <ui:fragment rendered="#{profileViewBean.socialProfile.hobbies == null and profileViewBean.himself}">
                                            <a class="add-new">
                                                <i class="fa fa-plus-square"></i> 
                                                <span>#{localeBean.getString('Adicionar')}</span>
                                            </a>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.editFieldList.contains('hobbies')}">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Quais são seus hobbies?')}" id="hobbies-input" styleClass="editable-field editable-social-interest pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                        <h:commandLink styleClass="edit-button pull-left">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('hobbies')}" execute="hobbies-input" render="editable-profile-hobbies"></f:ajax>
                                        </h:commandLink>
                                    </ui:fragment>
                                    <h:commandLink styleClass="add-new-action hobbies">
                                        <f:ajax listener="#{profileViewBean.showEditField('hobbies')}" render="editable-profile-hobbies"></f:ajax>
                                    </h:commandLink>
                                </h:panelGroup>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                    <div class="profile-column-right">
                        <p id="profile-icon-mail"><i class="fa fa-envelope-o"/><span title="#{profileViewBean.socialProfile.users.username}">#{profileViewBean.socialProfile.users.username}</span></p>
                        <p id="profile-icon-birthday">
                            <img src="../resources/common/images/birthday.png"/>
                            <h:panelGroup layout="block" id="editable-profile-birth-date" class="editable-container">
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('birthDate')}">
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.birthDate != null}">
                                        <p>#{profileViewBean.socialProfile.birthDate}</p>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <i class="edit-pencil fa fa-pencil"></i>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.birthDate == null and profileViewBean.himself}">
                                        <a class="add-new">
                                            <i class="fa fa-plus-square"></i> 
                                            <span>#{localeBean.getString('Adicionar')}</span>
                                        </a>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('birthDate')}">
                                    <h:inputText pt:placeholder="#{localeBean.getString('Data de nascimento')}" id="birth-date-input" maxlength="10" styleClass="editable-field editable-birth-date pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                    <h:commandLink styleClass="edit-button pull-left edit-birthday">
                                        <i class="fa fa-chevron-circle-right"></i>
                                        <f:ajax listener="#{profileViewBean.editField('birthDate')}" execute="birth-date-input" render="editable-profile-birth-date"></f:ajax>
                                    </h:commandLink>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action birth-date">
                                    <f:ajax listener="#{profileViewBean.showEditField('birthDate')}" render="editable-profile-birth-date"></f:ajax>
                                </h:commandLink>
                            </h:panelGroup>
                        </p>
                    </div>
                    <div class="clear"></div>
                </div>
                <div id="profile-container-docs" class="profile-container">
                    <div class="profile-column-left">
                        <ui:repeat value="#{profileViewBean.docList}" var="doc">
                            <div class="item-box-container">
                                <a href="/docs/create.xhtml?id=#{doc.id}"><img class="item-box-img" src="../resources/common/images/doc.png"/></a>
                                <p class="item-box-doc-title">
                                    <ui:fragment rendered="#{doc.creatorSocialProfileFk == profileViewBean.mySocialProfile}">#{localeBean.getString('Proprietário')}</ui:fragment>
                                    <ui:fragment rendered="#{doc.creatorSocialProfileFk != profileViewBean.mySocialProfile}">#{localeBean.getString('Convidado')}</ui:fragment>
                                </p>
                                <p class="item-box-aux">#{localeBean.getString('em')}</p>
                                <a class="item-box-title-bold" href="/docs/create.xhtml?id=#{doc.id}"><p>#{doc.title}</p></a>
                                <div class="item-box-date">
                                    <img src="../resources/common/images/clock.png"/>
                                    <h:outputText value="#{doc.date}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                    </h:outputText>
                                </div>
                            </div>
                        </ui:repeat>
                    </div>
                    <div class="profile-column-right">
                        <p class="profile-document-number"><span>#{profileViewBean.docList.size()}</span><br />#{profileViewBean.docList.size() == 1 ? localeBean.getString('Participação') : localeBean.getString('Participações')} #{localeBean.getString('em')}<br />#{localeBean.getString('Documentos')}</p>
                    </div>
                    <div class="clear"></div>
                </div>
                <div id="profile-container-objects" class="profile-container">
                    <div class="profile-column-left">
                        <ui:repeat value="#{profileViewBean.educationalObjectList}" var="educationalObject">
                            <div class="item-box-container">
                                <a href="/educational-object/view.xhtml?id=#{educationalObject.id}"><img class="item-box-img" src="#{educationalObject.image}"/></a>
                                <p class="item-box-title">
                                    <ui:repeat value="#{educationalObject.authorCollection}" var="author">
                                        <ui:fragment rendered="#{author.email == profileViewBean.socialProfile.users.username}">
                                            #{author.authorRoleFk.name}/
                                        </ui:fragment>
                                    </ui:repeat>
                                </p>
                                <p class="item-box-aux">#{localeBean.getString('em')}</p>
                                <a class="item-box-title-bold" href="/educational-object/view.xhtml?id=#{educationalObject.id}"><p>#{educationalObject.name}</p></a>
                                <div class="item-box-date">
                                    <img src="../resources/common/images/clock.png"/>
                                    <h:outputText value="#{educationalObject.date}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                    </h:outputText>
                                </div>
                            </div>
                        </ui:repeat>
                    </div>
                    <div class="profile-column-right">
                        <p class="profile-object-number"><span>#{profileViewBean.educationalObjectList.size()}</span><br />#{profileViewBean.educationalObjectList.size() == 1 ? localeBean.getString('Participação') : localeBean.getString('Participações')} #{localeBean.getString('em')}<br />#{localeBean.getString('Objetos invertido')} <br />#{localeBean.getString('Educacionais invertido')} <br /></p>
                    </div>
                    <div class="clear"></div>
                </div>
                <div id="profile-container-resume" class="profile-container">
                    <div class="profile-column-left">
                        <div class="profile-resume-left">
                            <p class="profile-resume-title">#{localeBean.getString('Currículo')}</p>
                            <p class="profile-resume-name">#{profileViewBean.socialProfile.name}</p>
                            <h:panelGroup layout="block" id="editable-profile-occupation-2" class="editable-container">
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('occupation')}">
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.occupationsId.name != null}">
                                        <p class="profile-resume-occupation">#{profileViewBean.socialProfile.occupationsId.name}</p>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <i class="edit-pencil fa fa-pencil"></i>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.occupationsId.name == null and profileViewBean.himself}">
                                        <a class="add-new">
                                            <i class="fa fa-plus-square"></i> 
                                            <span>#{localeBean.getString('Adicionar ocupação')}</span>
                                        </a>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('occupation')}">
                                    <h:inputText pt:placeholder="#{localeBean.getString('Qual a sua ocupação?')}" id="occupation-2-input" styleClass="editable-field pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                    <h:commandLink styleClass="edit-button pull-left">
                                        <i class="fa fa-chevron-circle-right"></i>
                                        <f:ajax listener="#{profileViewBean.editField('occupation')}" execute="occupation-2-input" render="editable-profile-occupation-2 editable-profile-occupation"></f:ajax>
                                    </h:commandLink>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action occupation-2">
                                    <f:ajax listener="#{profileViewBean.showEditField('occupation')}" render="editable-profile-occupation-2"></f:ajax>
                                </h:commandLink>
                            </h:panelGroup>
                        </div>
                        <div class="profile-resume-right">
                            <p class="bold">#{profileViewBean.socialProfile.users.username}</p>
                            <h:panelGroup layout="block" id="editable-profile-phone" class="editable-container pull-right">
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('phone')}">
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.phone != null}">
                                        <p class="bold inline">#{profileViewBean.socialProfile.phone}</p>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <i class="edit-pencil fa fa-pencil"></i>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.phone == null and profileViewBean.himself}">
                                        <a class="add-new add-new-phone">
                                            <i class="fa fa-plus-square"></i> 
                                            <span>#{localeBean.getString('Adicionar telefone')}</span>
                                        </a>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('phone')}">
                                    <h:inputText pt:placeholder="#{localeBean.getString('Telefone')}" id="phone-input" maxlength="14" styleClass="editable-field pull-left" value="#{profileViewBean.editableFieldValue}"/>
                                    <h:commandLink styleClass="edit-button pull-left">
                                        <i class="fa fa-chevron-circle-right"></i>
                                        <f:ajax listener="#{profileViewBean.editField('phone')}" execute="phone-input" render="editable-profile-phone"></f:ajax>
                                    </h:commandLink>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action phone">
                                    <f:ajax listener="#{profileViewBean.showEditField('phone')}" render="editable-profile-phone"></f:ajax>
                                </h:commandLink>
                                <div class="clear"></div>
                            </h:panelGroup>
                            <div class="clear"></div>
                            <h:panelGroup layout="block" id="editable-profile-address" class="editable-container">
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('address')}">
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.address != null
                                                             or profileViewBean.socialProfile.number != null 
                                                             or profileViewBean.socialProfile.neighborhood != null 
                                                             or profileViewBean.socialProfile.zipcode != null 
                                                             or profileViewBean.socialProfile.cityId.name != null 
                                                             or profileViewBean.socialProfile.stateId.name != null 
                                                             or profileViewBean.socialProfile.countryId.name != null }">
                                        <div class="inline-block">
                                            <p>
                                                #{profileViewBean.socialProfile.address}<ui:fragment rendered="#{profileViewBean.socialProfile.address != null and profileViewBean.socialProfile.number != null}">, </ui:fragment>
                                                    #{profileViewBean.socialProfile.number}
                                            </p>
                                            <p> 
                                                <ui:fragment rendered="#{profileViewBean.socialProfile.neighborhood != null}">Bairro #{profileViewBean.socialProfile.neighborhood}</ui:fragment>
                                                <ui:fragment rendered="#{profileViewBean.socialProfile.neighborhood != null and profileViewBean.socialProfile.zipcode != null}">. </ui:fragment>
                                                    #{profileViewBean.socialProfile.zipcode}
                                            </p>
                                            <p>
                                                #{profileViewBean.socialProfile.cityId.name}
                                                <ui:fragment rendered="#{profileViewBean.socialProfile.cityId.name != null}"> - </ui:fragment> 
                                                    #{profileViewBean.socialProfile.stateId.name}
                                                <ui:fragment rendered="#{profileViewBean.socialProfile.stateId.name != null}"> - </ui:fragment> 
                                                    #{profileViewBean.socialProfile.countryId.name}
                                            </p>
                                        </div>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <i class="edit-pencil fa fa-pencil"></i>
                                        </ui:fragment>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{profileViewBean.socialProfile.address == null 
                                                             and profileViewBean.socialProfile.number == null 
                                                             and profileViewBean.socialProfile.neighborhood == null 
                                                             and profileViewBean.socialProfile.zipcode == null 
                                                             and profileViewBean.socialProfile.cityId.name == null 
                                                             and profileViewBean.socialProfile.stateId.name == null 
                                                             and profileViewBean.socialProfile.countryId.name == null 
                                                             and profileViewBean.himself}">
                                        <a class="add-new">
                                            <i class="fa fa-plus-square"></i> 
                                            <span>#{localeBean.getString('Adicionar endereço')}</span>
                                        </a>
                                    </ui:fragment>
                                </ui:fragment>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('address')}">
                                    <h:panelGroup id="address-inputs" layout="block">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Endereço')}" styleClass="editable-field editable-address" value="#{profileViewBean.editableFieldValues[0]}"/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Número')}" styleClass="editable-field editable-number" value="#{profileViewBean.editableFieldValues[1]}"/><br/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Bairro')}" styleClass="editable-field editable-neighborhood" value="#{profileViewBean.editableFieldValues[2]}"/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('CEP')}" styleClass="editable-field editable-cep" value="#{profileViewBean.editableFieldValues[3]}"/><br/>
                                        <div class="select location">
                                            <h:selectOneMenu value="#{profileViewBean.editableFieldValues[6]}" class="country"> 
                                                <f:selectItem itemLabel="#{localeBean.getString('País')}" itemValue=""/>
                                                <f:selectItems value="#{profileViewBean.countryList}" var="country" itemLabel="#{country.name}" itemValue="#{country.id}"/>
                                                <f:ajax event="change" listener="#{profileViewBean.loadStates()}" render="state-container city-container"/>
                                            </h:selectOneMenu>
                                        </div>
                                        <h:panelGroup layout="block" id="state-container" class="select location">
                                            <h:selectOneMenu value="#{profileViewBean.editableFieldValues[5]}" class="state">
                                                <f:selectItem itemLabel="#{localeBean.getString('Estado')}" itemValue=""/>
                                                <f:selectItems value="#{profileViewBean.stateList}" var="state" itemLabel="#{state.name}" itemValue="#{state.id}"/>
                                                <f:ajax listener="#{profileViewBean.loadCities()}" render="city-container"/>
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                        <h:panelGroup layout="block" id="city-container" class="select location">
                                            <h:selectOneMenu value="#{profileViewBean.editableFieldValues[4]}" class="city">
                                                <f:selectItem itemLabel="#{localeBean.getString('Cidade')}" itemValue=""/>
                                                <f:selectItems value="#{profileViewBean.cityList}" var="city" itemLabel="#{city.name}" itemValue="#{city.id}"/>
                                            </h:selectOneMenu>
                                        </h:panelGroup>
                                    </h:panelGroup>
                                    <h:commandLink styleClass="edit-button">
                                        <i class="fa fa-chevron-circle-right"></i>
                                        <f:ajax listener="#{profileViewBean.editField('address')}" execute="address-inputs" render="editable-profile-address"></f:ajax>
                                    </h:commandLink>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action address">
                                    <f:ajax listener="#{profileViewBean.showEditField('address')}" render="editable-profile-address"></f:ajax>
                                </h:commandLink>
                            </h:panelGroup>
                        </div>
                        <div class="clear"></div>
                        <div class="profile-resume-history">
                            <div class="profile-history-container">
                                <p class="profile-history-title">#{localeBean.getString('Educação')}</p>
                            </div>
                            <h:panelGroup layout="block" id="editable-profile-education" class="editable-container">
                                <ui:repeat value="#{profileViewBean.socialProfile.educationsCollection}" var="education">
                                    <div class="profile-history-list">
                                        <div class="profile-history-date">
                                            <h3>
                                                <h:outputText value="#{education.dataBegin}">
                                                    <f:convertDateTime pattern="MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                                </h:outputText> 
                                                - 
                                                <h:outputText value="#{education.dataEnd}">
                                                    <f:convertDateTime pattern="MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                                </h:outputText>
                                                <ui:fragment rendered="#{education.dataEnd == null}">
                                                    <h:outputText value="#{localeBean.getString('ATUAL')}"/>
                                                </ui:fragment>
                                            </h3>
                                        </div>
                                        <div class="profile-history-description">
                                            <p>#{education.nameId.scholarityId.description}</p>
                                            <p>#{education.nameId.name}</p>
                                            <p class="italic">#{education.locationId.name}</p>
                                        </div>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <h:commandLink styleClass="remove-eduexp">
                                                <f:ajax listener="#{profileViewBean.removeEducation(education)}" render="editable-profile-education"/>
                                                <i class="fa fa-times"></i>
                                            </h:commandLink> 
                                        </ui:fragment>
                                        <div class="clear"></div>
                                    </div>
                                </ui:repeat>
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('education') and profileViewBean.himself}">
                                    <a class="add-new">
                                        <i class="fa fa-plus-square"></i> 
                                        <span>#{localeBean.getString('Adicionar')}</span>
                                    </a>
                                </ui:fragment>
                                <br/>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('education')}">
                                    <h:panelGroup id="education-inputs" layout="block">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Data de início')}*" styleClass="editable-field editable-education-initial-date" value="#{profileViewBean.editableFieldValues[0]}"/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Data de término')}" styleClass="editable-field editable-education-final-date" value="#{profileViewBean.editableFieldValues[1]}"/>
                                        <div class="select scholarity">
                                            <h:selectOneMenu value="#{profileViewBean.editableFieldValues[2]}" styleClass="editable-education-scholarity">
                                                <f:selectItem itemLabel="#{localeBean.getString('Nível de ensino')}*" itemValue=""/>
                                                <f:selectItems value="#{profileViewBean.scholarityList}" var="scholarity" itemLabel="#{scholarity.description}" itemValue="#{scholarity.id}"/>
                                            </h:selectOneMenu>
                                        </div><br/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Curso')}*" styleClass="editable-field editable-education-name" value="#{profileViewBean.editableFieldValues[3]}"/><br/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Local')}*" styleClass="editable-field editable-education-location" value="#{profileViewBean.editableFieldValues[4]}"/><br/>
                                        <h:commandLink styleClass="edit-button education-edit-button">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('education')}" execute="education-inputs" render="editable-profile-education"></f:ajax>
                                        </h:commandLink>
                                    </h:panelGroup>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action education">
                                    <f:ajax listener="#{profileViewBean.showEditField('education')}" render="editable-profile-education"></f:ajax>
                                </h:commandLink>
                            </h:panelGroup>
                            <div class="profile-history-container">
                                <p class="profile-history-title">#{localeBean.getString('Experiência')}</p>
                            </div>
                            <h:panelGroup layout="block" id="editable-profile-experience" class="editable-container">
                                <ui:repeat value="#{profileViewBean.socialProfile.experiencesCollection}" var="experience">
                                    <div class="profile-history-list">
                                        <div class="profile-history-date">
                                            <h3>
                                                <h:outputText value="#{experience.dataBegin}">
                                                    <f:convertDateTime pattern="MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                                </h:outputText> 
                                                - 
                                                <h:outputText value="#{experience.dataEnd}">
                                                    <f:convertDateTime pattern="MM/yyyy" timeZone="GMT-3"></f:convertDateTime>
                                                </h:outputText>
                                                <ui:fragment rendered="#{experience.dataEnd == null}">
                                                    <h:outputText value="#{localeBean.getString('ATUAL')}"/>
                                                </ui:fragment>
                                            </h3>
                                        </div>
                                        <div class="profile-history-description">
                                            <p>#{experience.nameId.name}</p>
                                            <p class="italic">#{experience.locationId.name}</p>
                                        </div>
                                        <ui:fragment rendered="#{profileViewBean.himself}">
                                            <h:commandLink styleClass="remove-eduexp">
                                                <f:ajax listener="#{profileViewBean.removeExperience(experience)}" render="editable-profile-experience"/>
                                                <i class="fa fa-times"></i>
                                            </h:commandLink> 
                                        </ui:fragment>
                                        <div class="clear"></div>
                                    </div>
                                </ui:repeat>
                                <ui:fragment rendered="#{!profileViewBean.editFieldList.contains('experience') and profileViewBean.himself}">
                                    <a class="add-new">
                                        <i class="fa fa-plus-square"></i> 
                                        <span>#{localeBean.getString('Adicionar')}</span>
                                    </a>
                                </ui:fragment>
                                <br/>
                                <ui:fragment rendered="#{profileViewBean.editFieldList.contains('experience')}">
                                    <h:panelGroup id="experience-inputs" layout="block">
                                        <h:inputText pt:placeholder="#{localeBean.getString('Data de início')}*" styleClass="editable-field editable-experience-initial-date" value="#{profileViewBean.editableFieldValues[0]}"/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Data de término')}" styleClass="editable-field editable-experience-final-date" value="#{profileViewBean.editableFieldValues[1]}"/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Ocupação')}*" styleClass="editable-field editable-experience-occupation" value="#{profileViewBean.editableFieldValues[2]}"/><br/>
                                        <h:inputText pt:placeholder="#{localeBean.getString('Local')}*" styleClass="editable-field editable-experience-location" value="#{profileViewBean.editableFieldValues[3]}"/><br/>
                                        <h:commandLink styleClass="edit-button experience-edit-button">
                                            <i class="fa fa-chevron-circle-right"></i>
                                            <f:ajax listener="#{profileViewBean.editField('experience')}" execute="experience-inputs" render="editable-profile-experience"></f:ajax>
                                        </h:commandLink>
                                    </h:panelGroup>
                                </ui:fragment>
                                <h:commandLink styleClass="add-new-action experience">
                                    <f:ajax listener="#{profileViewBean.showEditField('experience')}" render="editable-profile-experience"></f:ajax>
                                </h:commandLink>
                            </h:panelGroup>
                        </div>
                    </div>
                    <div class="profile-column-right">
                        <h:commandLink class="btn-gray" action="#{profileViewBean.downloadPDF()}">
                            #{localeBean.getString('Gerar PDF')}
                        </h:commandLink>
                    </div>
                    <div class="clear"></div>
                </div>
                <a id="open-image-cropping-modal" href="#image-cropping-modal"></a>
                <div id="image-cropping-modal" class="image-cropping-modal">
                    <div>
                        <h1 class="modal-title">#{localeBean.getString('Cortar foto')}</h1>
                        <hr/>
                        <a href="#close" title="Close" id="close-image-cropping-modal" class="close-image-cropping-modal">X</a>
                        <div class="photo-container">
                            <img class="original-uploaded-image"/>
                        </div>
                        <hr/>
                        <div class="modal-buttons">
                            <span class="image-cropping-button cut-photo">
                                #{localeBean.getString('Cortar e salvar')}
                            </span>
                            <a href="#close" title="Close" class="image-cropping-button cancel">#{localeBean.getString('Cancelar')}</a>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <h:commandLink styleClass="upload-photo" action="#{profileViewBean.uploadPhoto('photo')}"/>
                <h:commandLink styleClass="upload-cover-photo" action="#{profileViewBean.uploadPhoto('cover')}"/>
                <h:inputFile id="browse-photo" pt:accept="image/x-png, image/jpeg" styleClass="hidden" value="#{profileViewBean.uploadedPhoto}"/>
                <h:inputHidden id="original-uploaded-image-tracker-x" value="#{profileViewBean.cropCoordinates[0]}"/>
                <h:inputHidden id="original-uploaded-image-tracker-y" value="#{profileViewBean.cropCoordinates[1]}"/>
                <h:inputHidden id="original-uploaded-image-tracker-w" value="#{profileViewBean.cropCoordinates[2]}"/>
                <h:inputHidden id="original-uploaded-image-tracker-h" value="#{profileViewBean.cropCoordinates[3]}"/>
            </h:form>
        </section>
    </ui:define>
    <!-- BEGIN PAGE SCRIPTS -->
    <ui:define name="scripts">
        <script type="text/javascript" src="../resources/lib/jcrop-0.9.12/js/jquery.Jcrop.min.js"></script>
        <script type="text/javascript" src="../resources/lib/jquery-maskedinput/jquery.maskedinput.min.js"></script>
        <script type="text/javascript" charset="UTF-8" src="../resources/common/js/profile-view.js"></script>
    </ui:define>
    <!-- END PAGE SCRIPTS -->
</ui:composition>