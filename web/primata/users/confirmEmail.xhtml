<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <f:view contentType="text/html"/>
    <h:head>
        <title>Confirm e-mail</title>
        <link rel="shortcut icon" href="/resources/images/guigoh.png"></link>
        <link type="text/css" rel="stylesheet" media="all" href="/resources/css/login.css"></link>
    </h:head>
    <h:body>
        <f:metadata>
            <f:viewParam name="code" value="#{registerBean.confirmCode}" />
            <f:viewParam name="user" value="#{registerBean.confirmEmail}" />
            <f:event type="preRenderComponent" listener="#{registerBean.authenticateUser()}"/>
        </f:metadata>
        <div class="central">
            <div class="block_left">
                <font class="block_left_top"></font>
                <font class="block_left_midtop"><p>Arte com ciência é um projeto desenvolvido numa parceria entre o Instituto de Pesquisas em Tecnologia e Inovação (IPTI),a Universidade Federal de Sergipe (UFS) e a Secretaria de Estado dda Educação de Sergipe (SEED-SE), com financiamento da Financiadora de Estudos e Projetos (FINEP).</p></font>
                <font class="block_left_bot"><span class="companies_logos"></span></font>
            </div>
            <div class="block_right">
                <span class="login_box">
                    <h:form id="login_form" styleClass="login_open">
                        <h:panelGroup id="pass_sent_panel" rendered="#{registerBean.panelStatus.equals('confirmed_email')}">
                            <font class="open_name">E-mail autorizado com sucesso!</font>
                            <h:commandButton class="button_back" action="#{registerBean.backToLogin()}"/>
                        </h:panelGroup>
                        
                        <h:panelGroup id="new_pass_panel" rendered="#{registerBean.panelStatus.equals('new_pass')}">
                            <font class="open_name">Digite sua nova senha</font>
                            <h:messages styleClass="msg"/>
                            <h:outputText class="new_pass" value="nova senha :"/>
                            <h:inputSecret value="#{registerBean.newPassword}"/><br/>
                            <h:outputText class="new_pass" value="confirmar :"/>
                            <h:inputSecret  value="#{registerBean.newPasswordConfirm}"/><br/>
                            <h:commandButton action="#{registerBean.changePassword}" styleClass="button_change"/>
                        </h:panelGroup>
                        
                        <h:panelGroup id="inactive_panel" rendered="#{registerBean.panelStatus.equals('inactive')}">
                            <font class="open_name">Sua conta está desativada. Contate o administrador.</font>
                            <h:commandButton class="button_back" action="#{registerBean.backToLogin()}"/>
                        </h:panelGroup>
                        
                        <h:panelGroup id="pending_panel" rendered="#{registerBean.panelStatus.equals('pending')}">
                            <font class="open_name">Sua conta já foi solicitada. Aguarde a confirmação do administrador.</font>
                            <h:commandButton class="button_back" action="#{registerBean.backToLogin()}"/>
                        </h:panelGroup>
                        
                        <h:panelGroup id="check_email_panel" rendered="#{registerBean.panelStatus.equals('check_email')}">
                            <font class="open_name">Confirme seu registro através do seu e-mail.</font>
                            <h:commandButton class="button_back" action="#{registerBean.backToLogin()}"/>
                        </h:panelGroup>
                        
                        <h:panelGroup id="active_email_panel" rendered="#{registerBean.panelStatus.equals('active_email')}">
                            <font class="open_name">Seu email já foi confirmado.</font>
                            <h:commandButton class="button_back" action="#{registerBean.backToLogin()}"/>
                        </h:panelGroup>
                    </h:form>
                </span>
            </div>
            <span class="clear"></span> 
        </div>
        <div class="bottom">
            <ul class="bottom_menu">
                <!--<li ><a href="/">Contato</a></li>
                <li ><span></span><a href="/">Termos de Uso</a></li>
                <li ><span></span><a href="/">Alguns direitos reservados</a></li>-->
                <span class="powered_guigoh">Powered by</span>
            </ul>
            <span class="clear"></span> 
        </div>

    </h:body>
</html>